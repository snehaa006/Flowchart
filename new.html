<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Press Stamping - Proximity Sensor Counter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            overflow: hidden;
        }

        .container {
            position: relative;
            width: 1400px;
            height: 800px;
        }

        /* Main SVG for connections */
        .main-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* Component boxes */
        .component {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 10;
        }

        .component-box {
            position: relative;
            width: 280px;
            height: 280px;
            background: rgba(20, 30, 50, 0.8);
            border: 2px solid rgba(100, 180, 255, 0.4);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow:
                0 0 30px rgba(100, 180, 255, 0.15),
                inset 0 0 60px rgba(100, 180, 255, 0.05);
            backdrop-filter: blur(10px);
        }

        .component-box::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 22px;
            background: linear-gradient(45deg,
                rgba(100, 180, 255, 0.3),
                transparent,
                rgba(100, 180, 255, 0.3));
            z-index: -1;
            animation: borderGlow 3s ease-in-out infinite;
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .label {
            margin-top: 20px;
            text-align: center;
            color: #e0e0e0;
            font-size: 18px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .sublabel {
            font-size: 12px;
            color: #888;
            font-weight: 400;
            margin-top: 5px;
            text-transform: none;
            letter-spacing: 0.5px;
        }

        /* Positioning */
        .press-machine { left: 80px; top: 200px; }
        .proximity-sensor { left: 560px; top: 200px; }
        .microcontroller { left: 1040px; top: 200px; }

        /* Press Stamping Machine Animation */
        .press-svg {
            width: 200px;
            height: 200px;
        }

        .press-base {
            fill: #3a5a7c;
            stroke: #64b4ff;
            stroke-width: 2;
        }

        .press-ram {
            fill: #4a6a8c;
            stroke: #64b4ff;
            stroke-width: 2;
            animation: pressStamp 1.5s ease-in-out infinite;
        }

        .press-piston {
            fill: #5a7a9c;
            stroke: #64b4ff;
            stroke-width: 2;
            animation: pistonMove 1.5s ease-in-out infinite;
        }

        .workpiece {
            fill: #ff9800;
            stroke: #ffb74d;
            stroke-width: 1;
        }

        .stamped-effect {
            fill: none;
            stroke: #ff9800;
            stroke-width: 2;
            opacity: 0;
            animation: stampFlash 1.5s ease-in-out infinite;
        }

        @keyframes pressStamp {
            0%, 100% { transform: translateY(0); }
            40%, 60% { transform: translateY(40px); }
        }

        @keyframes pistonMove {
            0%, 100% { transform: scaleY(1); }
            40%, 60% { transform: scaleY(0.6); }
        }

        @keyframes stampFlash {
            0%, 35%, 65%, 100% { opacity: 0; }
            45%, 55% { opacity: 1; }
        }

        /* Proximity Sensor */
        .sensor-svg {
            width: 200px;
            height: 200px;
        }

        .sensor-body {
            fill: #2d4a6a;
            stroke: #64b4ff;
            stroke-width: 2;
        }

        .sensor-face {
            fill: #1a3a5a;
            stroke: #64b4ff;
            stroke-width: 2;
        }

        .detection-wave {
            fill: none;
            stroke: #00ff88;
            stroke-width: 2;
            opacity: 0;
            animation: detectPulse 1.5s ease-out infinite;
        }

        .detection-wave:nth-child(2) { animation-delay: 0.2s; }
        .detection-wave:nth-child(3) { animation-delay: 0.4s; }

        @keyframes detectPulse {
            0% { opacity: 0; transform: scale(0.8); }
            40%, 50% { opacity: 1; transform: scale(1); }
            60% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 0; transform: scale(1.3); }
        }

        .sensor-led {
            fill: #00ff88;
            animation: ledBlink 1.5s ease-in-out infinite;
        }

        @keyframes ledBlink {
            0%, 35%, 65%, 100% { fill: #00ff88; filter: drop-shadow(0 0 8px #00ff88); }
            45%, 55% { fill: #ff4444; filter: drop-shadow(0 0 12px #ff4444); }
        }

        /* Count Display */
        .count-display {
            position: absolute;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 20, 40, 0.9);
            border: 2px solid #00ff88;
            border-radius: 10px;
            padding: 8px 20px;
            font-family: 'Courier New', monospace;
            font-size: 28px;
            font-weight: bold;
            color: #00ff88;
            text-shadow: 0 0 10px #00ff88;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
        }

        .count-value {
            animation: countUp 1.5s steps(1) infinite;
        }

        @keyframes countUp {
            0%, 40% { content: "0247"; }
            50%, 100% { content: "0248"; }
        }

        /* Microcontroller */
        .mcu-svg {
            width: 200px;
            height: 200px;
        }

        .mcu-body {
            fill: #1a3a5a;
            stroke: #64b4ff;
            stroke-width: 2;
        }

        .mcu-chip {
            fill: #0d2840;
            stroke: #64b4ff;
            stroke-width: 1.5;
        }

        .mcu-pin {
            fill: #8ab4d8;
            stroke: none;
        }

        .mcu-led {
            animation: mcuProcess 0.3s ease-in-out infinite;
        }

        .mcu-led.green { fill: #00ff88; }
        .mcu-led.yellow { fill: #ffcc00; animation-delay: 0.1s; }
        .mcu-led.red { fill: #ff4444; animation-delay: 0.2s; }

        @keyframes mcuProcess {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; filter: drop-shadow(0 0 5px currentColor); }
        }

        .data-line {
            fill: none;
            stroke: #64b4ff;
            stroke-width: 1;
            stroke-dasharray: 3, 3;
            animation: dataFlow 0.5s linear infinite;
        }

        @keyframes dataFlow {
            from { stroke-dashoffset: 0; }
            to { stroke-dashoffset: -6; }
        }

        /* Connection Flow Lines */
        .flow-path {
            fill: none;
            stroke: url(#flowGradient);
            stroke-width: 4;
            stroke-linecap: round;
            opacity: 0.6;
        }

        .flow-glow {
            fill: none;
            stroke: #64b4ff;
            stroke-width: 8;
            stroke-linecap: round;
            opacity: 0.2;
            filter: blur(4px);
        }

        /* Data Particles */
        .data-particle {
            fill: #00ff88;
            filter: drop-shadow(0 0 6px #00ff88);
        }

        .data-particle-blue {
            fill: #64b4ff;
            filter: drop-shadow(0 0 6px #64b4ff);
        }

        /* Signal Indicator */
        .signal-icon {
            position: absolute;
            width: 50px;
            height: 50px;
        }

        .signal-wave {
            fill: none;
            stroke: #00ff88;
            stroke-width: 2;
            opacity: 0.8;
        }

        /* Binary Data Animation */
        .binary-text {
            font-family: 'Courier New', monospace;
            font-size: 10px;
            fill: #64b4ff;
            opacity: 0.7;
        }

        /* Title */
        .title {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: #e0e0e0;
            font-size: 28px;
            font-weight: 300;
            letter-spacing: 4px;
            text-transform: uppercase;
            text-shadow: 0 0 20px rgba(100, 180, 255, 0.5);
        }

        .title span {
            color: #64b4ff;
            font-weight: 600;
        }

        /* Flow Description */
        .flow-desc {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 40px;
            align-items: center;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #888;
            font-size: 13px;
        }

        .flow-step-num {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: rgba(100, 180, 255, 0.2);
            border: 1px solid #64b4ff;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #64b4ff;
            font-weight: 600;
            font-size: 14px;
        }

        .flow-arrow {
            color: #64b4ff;
            font-size: 20px;
        }

        /* Stroke Counter Animation */
        .stroke-counter {
            position: absolute;
            top: 50px;
            right: 100px;
            background: rgba(0, 20, 40, 0.9);
            border: 2px solid #64b4ff;
            border-radius: 15px;
            padding: 20px 30px;
            text-align: center;
        }

        .counter-label {
            color: #888;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 10px;
        }

        .counter-value {
            font-family: 'Courier New', monospace;
            font-size: 42px;
            font-weight: bold;
            color: #00ff88;
            text-shadow: 0 0 15px rgba(0, 255, 136, 0.5);
        }

        .counter-unit {
            color: #64b4ff;
            font-size: 14px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Title -->
        <div class="title">Press Stamping <span>Stroke Counter</span> System</div>

        <!-- Live Counter Display -->
        <div class="stroke-counter">
            <div class="counter-label">Total Strokes</div>
            <div class="counter-value" id="strokeCount">0000</div>
            <div class="counter-unit">strokes / cycle</div>
        </div>

        <!-- Main SVG for connections -->
        <svg class="main-svg" viewBox="0 0 1400 800">
            <defs>
                <!-- Flow Gradient -->
                <linearGradient id="flowGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#64b4ff;stop-opacity:0.3" />
                    <stop offset="50%" style="stop-color:#00ff88;stop-opacity:0.8" />
                    <stop offset="100%" style="stop-color:#64b4ff;stop-opacity:0.3" />
                </linearGradient>

                <!-- Glow filter -->
                <filter id="glow">
                    <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                    <feMerge>
                        <feMergeNode in="coloredBlur"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>

            <!-- Connection: Press Machine to Proximity Sensor -->
            <path class="flow-glow" d="M 360 340 L 450 340 L 450 340 L 560 340" />
            <path class="flow-path" d="M 360 340 L 450 340 L 450 340 L 560 340" />

            <!-- Signal pulses from press to sensor -->
            <circle class="data-particle" r="8">
                <animate attributeName="cx" values="360;560" dur="1.5s" repeatCount="indefinite" calcMode="spline" keySplines="0.4 0 0.2 1" />
                <animate attributeName="cy" values="340;340" dur="1.5s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="0;1;1;0" dur="1.5s" repeatCount="indefinite" keyTimes="0;0.1;0.9;1" />
            </circle>
            <circle class="data-particle" r="5">
                <animate attributeName="cx" values="360;560" dur="1.5s" repeatCount="indefinite" begin="0.3s" calcMode="spline" keySplines="0.4 0 0.2 1" />
                <animate attributeName="cy" values="340;340" dur="1.5s" repeatCount="indefinite" begin="0.3s" />
                <animate attributeName="opacity" values="0;1;1;0" dur="1.5s" repeatCount="indefinite" begin="0.3s" keyTimes="0;0.1;0.9;1" />
            </circle>

            <!-- Connection: Proximity Sensor to Microcontroller -->
            <path class="flow-glow" d="M 840 340 L 930 340 L 930 340 L 1040 340" />
            <path class="flow-path" d="M 840 340 L 930 340 L 930 340 L 1040 340" />

            <!-- Data packets from sensor to MCU -->
            <g>
                <rect class="data-particle-blue" x="-12" y="-6" width="24" height="12" rx="3">
                    <animate attributeName="x" values="828;1028" dur="2s" repeatCount="indefinite" calcMode="spline" keySplines="0.4 0 0.2 1" />
                    <animate attributeName="opacity" values="0;1;1;0" dur="2s" repeatCount="indefinite" keyTimes="0;0.1;0.9;1" />
                </rect>
                <animateTransform attributeName="transform" type="translate" values="840,334;1040,334" dur="2s" repeatCount="indefinite" />
            </g>

            <!-- Binary data visualization -->
            <text class="binary-text" x="890" y="320">
                <animate attributeName="opacity" values="0;1;0" dur="0.5s" repeatCount="indefinite" />
                10110101
            </text>
            <text class="binary-text" x="920" y="360">
                <animate attributeName="opacity" values="0;1;0" dur="0.5s" repeatCount="indefinite" begin="0.25s" />
                01001110
            </text>

            <!-- Count data packets -->
            <g filter="url(#glow)">
                <circle class="data-particle-blue" r="6">
                    <animate attributeName="cx" values="840;1040" dur="1.5s" repeatCount="indefinite" begin="0.5s" />
                    <animate attributeName="cy" values="340;340" dur="1.5s" repeatCount="indefinite" begin="0.5s" />
                    <animate attributeName="opacity" values="0;1;1;0" dur="1.5s" repeatCount="indefinite" begin="0.5s" keyTimes="0;0.1;0.9;1" />
                </circle>
            </g>

            <!-- Arrow indicators -->
            <polygon fill="#64b4ff" points="555,340 545,335 545,345" opacity="0.8">
                <animate attributeName="opacity" values="0.4;1;0.4" dur="1s" repeatCount="indefinite" />
            </polygon>
            <polygon fill="#64b4ff" points="1035,340 1025,335 1025,345" opacity="0.8">
                <animate attributeName="opacity" values="0.4;1;0.4" dur="1s" repeatCount="indefinite" begin="0.5s" />
            </polygon>
        </svg>

        <!-- Press Stamping Machine -->
        <div class="component press-machine">
            <div class="component-box">
                <svg class="press-svg" viewBox="0 0 200 200">
                    <!-- Machine Frame -->
                    <rect class="press-base" x="30" y="20" width="140" height="25" rx="5" />
                    <rect class="press-base" x="40" y="160" width="120" height="25" rx="3" />

                    <!-- Side columns -->
                    <rect class="press-base" x="35" y="45" width="20" height="115" />
                    <rect class="press-base" x="145" y="45" width="20" height="115" />

                    <!-- Piston/Cylinder -->
                    <g style="transform-origin: 100px 45px;">
                        <rect class="press-piston" x="70" y="45" width="60" height="40" rx="3" />
                    </g>

                    <!-- Ram/Punch -->
                    <g class="press-ram" style="transform-origin: 100px 85px;">
                        <rect x="75" y="85" width="50" height="35" rx="2" />
                        <rect x="85" y="120" width="30" height="15" />
                    </g>

                    <!-- Die/Workpiece area -->
                    <rect class="workpiece" x="80" y="145" width="40" height="12" rx="2" />

                    <!-- Stamp effect -->
                    <circle class="stamped-effect" cx="100" cy="150" r="25" />
                    <circle class="stamped-effect" cx="100" cy="150" r="35" style="animation-delay: 0.1s" />

                    <!-- Indicator lights -->
                    <circle fill="#00ff88" cx="55" y="30" r="4">
                        <animate attributeName="opacity" values="0.3;1;0.3" dur="1s" repeatCount="indefinite" />
                    </circle>
                    <circle fill="#ffcc00" cx="70" y="30" r="4">
                        <animate attributeName="opacity" values="0.3;1;0.3" dur="1.5s" repeatCount="indefinite" begin="0.2s" />
                    </circle>
                </svg>
            </div>
            <div class="label">Press Stamping<div class="sublabel">Mechanical Press Machine</div></div>
        </div>

        <!-- Proximity Sensor -->
        <div class="component proximity-sensor">
            <div class="component-box">
                <div class="count-display">
                    COUNT: <span id="sensorCount">0248</span>
                </div>
                <svg class="sensor-svg" viewBox="0 0 200 200">
                    <!-- Sensor Housing -->
                    <rect class="sensor-body" x="50" y="60" width="100" height="80" rx="10" />

                    <!-- Sensor Face (Detection end) -->
                    <rect class="sensor-face" x="30" y="75" width="25" height="50" rx="5" />

                    <!-- Detection waves -->
                    <g style="transform-origin: 30px 100px;">
                        <path class="detection-wave" d="M 25 80 Q 5 100 25 120" />
                        <path class="detection-wave" d="M 20 70 Q -10 100 20 130" />
                        <path class="detection-wave" d="M 15 60 Q -20 100 15 140" />
                    </g>

                    <!-- Cable -->
                    <rect class="sensor-body" x="145" y="85" width="30" height="30" rx="5" />
                    <path fill="none" stroke="#64b4ff" stroke-width="4" d="M 175 100 Q 190 100 190 115 L 190 160" />

                    <!-- Status LED -->
                    <circle class="sensor-led" cx="100" cy="85" r="8" />

                    <!-- Sensor label -->
                    <text x="100" y="125" text-anchor="middle" fill="#64b4ff" font-size="10" font-family="monospace">PROX</text>

                    <!-- Detection indicator -->
                    <g>
                        <circle fill="#00ff88" cx="75" cy="100" r="3">
                            <animate attributeName="r" values="2;4;2" dur="1.5s" repeatCount="indefinite" />
                            <animate attributeName="opacity" values="0.5;1;0.5" dur="1.5s" repeatCount="indefinite" />
                        </circle>
                        <circle fill="#00ff88" cx="125" cy="100" r="3">
                            <animate attributeName="r" values="2;4;2" dur="1.5s" repeatCount="indefinite" begin="0.75s" />
                            <animate attributeName="opacity" values="0.5;1;0.5" dur="1.5s" repeatCount="indefinite" begin="0.75s" />
                        </circle>
                    </g>
                </svg>
            </div>
            <div class="label">Proximity Sensor<div class="sublabel">Inductive / Capacitive Counting</div></div>
        </div>

        <!-- Microcontroller -->
        <div class="component microcontroller">
            <div class="component-box">
                <svg class="mcu-svg" viewBox="0 0 200 200">
                    <!-- PCB Board -->
                    <rect class="mcu-body" x="30" y="40" width="140" height="120" rx="8" />

                    <!-- Main Chip -->
                    <rect class="mcu-chip" x="60" y="65" width="80" height="60" rx="4" />

                    <!-- Chip pins - top -->
                    <rect class="mcu-pin" x="70" y="55" width="8" height="12" />
                    <rect class="mcu-pin" x="85" y="55" width="8" height="12" />
                    <rect class="mcu-pin" x="100" y="55" width="8" height="12" />
                    <rect class="mcu-pin" x="115" y="55" width="8" height="12" />

                    <!-- Chip pins - bottom -->
                    <rect class="mcu-pin" x="70" y="123" width="8" height="12" />
                    <rect class="mcu-pin" x="85" y="123" width="8" height="12" />
                    <rect class="mcu-pin" x="100" y="123" width="8" height="12" />
                    <rect class="mcu-pin" x="115" y="123" width="8" height="12" />

                    <!-- Chip pins - left -->
                    <rect class="mcu-pin" x="50" y="75" width="12" height="6" />
                    <rect class="mcu-pin" x="50" y="90" width="12" height="6" />
                    <rect class="mcu-pin" x="50" y="105" width="12" height="6" />

                    <!-- Chip pins - right -->
                    <rect class="mcu-pin" x="138" y="75" width="12" height="6" />
                    <rect class="mcu-pin" x="138" y="90" width="12" height="6" />
                    <rect class="mcu-pin" x="138" y="105" width="12" height="6" />

                    <!-- Status LEDs -->
                    <circle class="mcu-led green" cx="45" cy="50" r="5" />
                    <circle class="mcu-led yellow" cx="60" cy="50" r="5" />
                    <circle class="mcu-led red" cx="75" cy="50" r="5" />

                    <!-- Crystal oscillator -->
                    <rect fill="#4a6a8c" stroke="#64b4ff" stroke-width="1" x="140" y="70" width="20" height="10" rx="2" />

                    <!-- Chip marking -->
                    <text x="100" y="100" text-anchor="middle" fill="#64b4ff" font-size="9" font-family="monospace">MCU</text>
                    <text x="100" y="112" text-anchor="middle" fill="#4a8ab4" font-size="7" font-family="monospace">32-BIT</text>

                    <!-- Pin indicator dot -->
                    <circle fill="#64b4ff" cx="68" cy="73" r="3" />

                    <!-- Data lines animation -->
                    <line class="data-line" x1="50" y1="78" x2="30" y2="78" />
                    <line class="data-line" x1="50" y1="93" x2="30" y2="93" />
                    <line class="data-line" x1="50" y1="108" x2="30" y2="108" />

                    <!-- Processing indicator -->
                    <g>
                        <rect fill="none" stroke="#00ff88" stroke-width="1" x="70" y="75" width="60" height="35" rx="2" opacity="0.5">
                            <animate attributeName="opacity" values="0.2;0.8;0.2" dur="1s" repeatCount="indefinite" />
                        </rect>
                    </g>
                </svg>
            </div>
            <div class="label">Microcontroller<div class="sublabel">Data Processing & Storage</div></div>
        </div>

        <!-- Flow Description -->
        <div class="flow-desc">
            <div class="flow-step">
                <div class="flow-step-num">1</div>
                <span>Press stamps workpiece</span>
            </div>
            <div class="flow-arrow">→</div>
            <div class="flow-step">
                <div class="flow-step-num">2</div>
                <span>Sensor detects stroke</span>
            </div>
            <div class="flow-arrow">→</div>
            <div class="flow-step">
                <div class="flow-step-num">3</div>
                <span>Count sent to MCU</span>
            </div>
            <div class="flow-arrow">→</div>
            <div class="flow-step">
                <div class="flow-step-num">4</div>
                <span>Data processed & stored</span>
            </div>
        </div>
    </div>

    <script>
        // Animate stroke counter
        let strokeCount = 247;
        const counterElement = document.getElementById('strokeCount');
        const sensorCountElement = document.getElementById('sensorCount');

        function updateCounter() {
            strokeCount++;
            if (strokeCount > 9999) strokeCount = 0;

            const formattedCount = strokeCount.toString().padStart(4, '0');
            counterElement.textContent = formattedCount;
            sensorCountElement.textContent = formattedCount;
        }

        // Update counter every 1.5 seconds (synced with press animation)
        setInterval(updateCounter, 1500);
    </script>
</body>
</html>
